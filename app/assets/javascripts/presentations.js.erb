
	$(document).ready(function() {
		$(".colorbox").colorbox(
			{ width: 400, onComplete: colorboxComplete }
		);
	});
	
	function colorboxComplete() {
		bindAjaxToConceptForm();
		clientSideImageCheck();		
		$(".redactor").redactor({ minHeight: 150 });
	}
	
	function clientSideImageCheck()
	{
		$("#new_concept input[type=submit]").on("click", function()
		{
			if($("#new_concept #concept_image").val().length == 0)
			{
				globalValidationMessage("No file selected");
				return false;
			}
		});
	}
	
	function bindAjaxToConceptForm() {
		$("#new_concept").bind("ajax:success", function(xhr, data, status) {
			jQuery.each(eval(data), function() {
				globalValidationMessage(this);
			})
	    });
	}
	

